"use strict";(self["webpackChunkspinner"]=self["webpackChunkspinner"]||[]).push([[178],{7178:(e,a,l)=>{l.r(a),l.d(a,{default:()=>ae});var o=l(3673);function i(e,a,l,i,n,r){const t=(0,o.up)("HeaderToolbar"),c=(0,o.up)("q-route-tab"),d=(0,o.up)("q-tabs"),s=(0,o.up)("q-footer"),u=(0,o.up)("router-view"),m=(0,o.up)("q-page-container"),p=(0,o.up)("q-layout");return(0,o.wg)(),(0,o.j4)(p,{view:"lHh Lpr lFf"},{default:(0,o.w5)((()=>[(0,o.Wm)(t,{selectedTab:n.selectedTab,"onUpdate:selectedTab":a[0]||(a[0]=e=>n.selectedTab=e)},null,8,["selectedTab"]),(0,o.Wm)(s,{bordered:""},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{"active-color":"primary","indicator-color":"transparent",class:"text-grey","no-caps":"",modelValue:n.selectedTab,"onUpdate:modelValue":a[1]||(a[1]=e=>n.selectedTab=e)},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{name:"list",to:"list",label:"Seznam",icon:"format_list_bulleted"}),(0,o.Wm)(c,{name:"map",to:"map",label:"Zemljevid",icon:"map"}),(0,o.Wm)(c,{name:"saved",to:"saved",label:"Shranjeno",icon:"star"})])),_:1},8,["modelValue"])])),_:1}),(0,o.Wm)(m,null,{default:(0,o.w5)((()=>[(0,o.Wm)(u,null,{default:(0,o.w5)((({Component:e})=>[((0,o.wg)(),(0,o.j4)(o.Ob,null,[((0,o.wg)(),(0,o.j4)((0,o.LL)(e)))],1024))])),_:1})])),_:1})])),_:1})}var n=l(2323);const r={key:0};function t(e,a,l,i,t,c){const d=(0,o.up)("q-toolbar-title"),s=(0,o.up)("q-btn"),u=(0,o.up)("q-toolbar"),m=(0,o.up)("q-header");return(0,o.wg)(),(0,o.j4)(m,{reveal:"",elevated:"",class:"bg-primary text-white"},{default:(0,o.w5)((()=>[(0,o.Wm)(u,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,null,{default:(0,o.w5)((()=>[t.ago?((0,o.wg)(),(0,o.iD)("span",r," Osveženo: "+(0,n.zw)(t.ago),1)):(0,o.kq)("",!0)])),_:1}),"list"==l.selectedTab?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o.Wm)(s,{flat:"",round:"",dense:"",icon:"filter_list",onClick:i.openFilterDialog},null,8,["onClick"]),(0,o.Wm)(s,{flat:"",round:"",dense:"",icon:"search",onClick:i.openSearchDialog},null,8,["onClick"]),(0,o.Wm)(s,{flat:"",round:"",dense:"",icon:"refresh",onClick:e.fetchData},null,8,["onClick"])],64)):(0,o.kq)("",!0),"map"==l.selectedTab?((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o.Wm)(s,{flat:"",round:"",dense:"",icon:"location_on",onClick:e.fetchLocation},null,8,["onClick"]),(0,o.Wm)(s,{flat:"",round:"",dense:"",icon:"refresh",onClick:e.fetchData},null,8,["onClick"])],64)):(0,o.kq)("",!0),"saved"==l.selectedTab?((0,o.wg)(),(0,o.j4)(s,{key:2,flat:"",round:"",dense:"",icon:"dark_mode",onClick:e.toggleDarkMode},null,8,["onClick"])):(0,o.kq)("",!0)])),_:1})])),_:1})}var c=l(8825),d=l(3617),s=l(1488),u=l.n(s);const m=(0,o._)("b",null,"Sortiraj intervencije",-1),p={class:"flex column q-mb-md"},v=(0,o.Uk)(" No results ");function k(e,a,l,i,r,t){const c=(0,o.up)("q-card-section"),d=(0,o.up)("q-radio"),s=(0,o.up)("q-item-section"),u=(0,o.up)("q-item"),k=(0,o.up)("q-select"),b=(0,o.up)("q-icon"),h=(0,o.up)("q-item-label"),j=(0,o.up)("q-btn"),f=(0,o.up)("q-card"),g=(0,o.up)("q-dialog");return(0,o.wg)(),(0,o.j4)(g,{ref:"dialog",onHide:t.onDialogHide,position:"bottom"},{default:(0,o.w5)((()=>[(0,o.Wm)(f,{class:"q-dialog-plugin"},{default:(0,o.w5)((()=>[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[m])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o._)("div",p,[(0,o.Wm)(d,{modelValue:r.localOrderFilter,"onUpdate:modelValue":a[0]||(a[0]=e=>r.localOrderFilter=e),val:"timeup",label:"Najnovejše"},null,8,["modelValue"]),(0,o.Wm)(d,{modelValue:r.localOrderFilter,"onUpdate:modelValue":a[1]||(a[1]=e=>r.localOrderFilter=e),val:"timedowm",label:"Najstarejše"},null,8,["modelValue"]),(0,o.Wm)(d,{modelValue:r.localOrderFilter,"onUpdate:modelValue":a[2]||(a[2]=e=>r.localOrderFilter=e),val:"locup",label:"Najbližje"},null,8,["modelValue"]),(0,o.Wm)(d,{modelValue:r.localOrderFilter,"onUpdate:modelValue":a[3]||(a[3]=e=>r.localOrderFilter=e),val:"locdown",label:"Oddaljeno"},null,8,["modelValue"])]),(0,o.Wm)(k,{behavior:"dialog",class:"q-mb-md",outlined:"",modelValue:r.localObcinaFilter,"onUpdate:modelValue":a[4]||(a[4]=e=>r.localObcinaFilter=e),"use-input":"",label:"Občina","input-debounce":"0",onNewValue:i.createValue,options:i.filterOptions,onFilter:i.filterFn,multiple:"","use-chips":"","stack-label":""},{"no-option":(0,o.w5)((()=>[(0,o.Wm)(u,null,{default:(0,o.w5)((()=>[(0,o.Wm)(s,{class:"text-grey"},{default:(0,o.w5)((()=>[v])),_:1})])),_:1})])),_:1},8,["modelValue","onNewValue","options","onFilter"]),(0,o.Wm)(k,{behavior:"dialog",class:"q-mb-md",outlined:"",modelValue:r.localTypeFilter,"onUpdate:modelValue":a[5]||(a[5]=e=>r.localTypeFilter=e),options:r.intervencijaType,label:"Tip intervencije",multiple:"","use-chips":"","stack-label":""},{option:(0,o.w5)((e=>[(0,o.Wm)(u,(0,n.vs)((0,o.F4)(e.itemProps)),{default:(0,o.w5)((()=>[(0,o.Wm)(s,{avatar:""},{default:(0,o.w5)((()=>[(0,o.Wm)(b,{name:e.opt.icon},null,8,["name"])])),_:2},1024),(0,o.Wm)(s,null,{default:(0,o.w5)((()=>[(0,o.Wm)(h,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(e.opt.label),1)])),_:2},1024)])),_:2},1024)])),_:2},1040)])),_:1},8,["modelValue","options"]),(0,o.Wm)(j,{class:"full-width",label:"Potrdi",onClick:t.onOKClick,color:"primary"},null,8,["onClick"])])),_:1})])),_:1})])),_:1},8,["onHide"])}var b=l(1959);const h=JSON.parse('["Ajdovščina","Ankaran","Apače","Beltinci","Benedikt","Bistrica ob Sotli","Bled","Bloke","Bohinj","Borovnica","Bovec","Braslovče","Brda","Brezovica","Brežice","Cankova","Celje","Cerklje na Gorenjskem","Cerknica","Cerkno","Cerkvenjak","Cirkulane","Črenšovci","Črna na Koroškem","Črnomelj","Destrnik","Divača","Dobje","Dobrepolje","Dobrna","Dobrova-Polhov Gradec","Dobrovnik","Dol pri Ljubljani","Dolenjske Toplice","Domžale","Dornava","Dravograd","Duplek","Gorenja vas-Poljane","Gorišnica","Gorje","Gornja Radgona","Gornji Grad","Gornji Petrovci","Grad","Grosuplje","Hajdina","Hoče-Slivnica","Hodoš","Horjul","Hrastnik","Hrpelje-Kozina","Idrija","Ig","Ilirska Bistrica","Ivančna Gorica","Izola","Jesenice","Jezersko","Juršinci","Kamnik","Kanal ob Soči","Kidričevo","Kobarid","Kobilje","Kočevje","Komen","Komenda","Koper","Kostanjevica na Krki","Kostel","Kozje","Kranj","Kranjska Gora","Križevci","Krško","Kungota","Kuzma","Laško","Lenart","Lendava","Litija","Ljubljana","Ljubno","Ljutomer","Log-Dragomer","Logatec","Loška dolina","Loški Potok","Lovrenc na Pohorju","Luče","Lukovica","Majšperk","Makole","Maribor","Markovci","Medvode","Mengeš","Metlika","Mežica","Miklavž na Dravskem polju","Miren-Kostanjevica","Mirna","Mirna Peč","Mislinja","Mokronog-Trebelno","Moravče","Moravske Toplice","Mozirje","Murska Sobota","Muta","Naklo","Nazarje","Nova Gorica","Novo mesto","Odranci","Oplotnica","Ormož","Osilnica","Pesnica","Piran","Pivka","Podčetrtek","Podlehnik","Podvelka","Poljčane","Polzela","Postojna","Prebold","Preddvor","Prevalje","Ptuj","Puconci","Rače-Fram","Radeče","Radenci","Radlje ob Dravi","Radovljica","Ravne na Koroškem","Razkrižje","Rečica ob Savinji","Renče-Vogrsko","Ribnica","Ribnica na Pohorju","Rogaška Slatina","Rogašovci","Rogatec","Ruše","Selnica ob Dravi","Semič","Sevnica","Sežana","Slovenj Gradec","Slovenska Bistrica","Slovenske Konjice","Sodražica","Solčava","Središče ob Dravi","Starše","Straža","Sveta Ana","Sveta Trojica v Slovenskih goricah","Sveti Andraž v Slovenskih goricah","Sveti Jurij ob Ščavnici","Sveti Jurij v Slovenskih goricah","Sveti Tomaž","Šalovci","Šempeter-Vrtojba","Šenčur","Šentilj","Šentjernej","Šentjur","Šentrupert","Škocjan","Škofja Loka","Škofljica","Šmarje pri Jelšah","Šmarješke Toplice","Šmartno pri Litiji","Šmartno ob Paki","Šoštanj","Štore","Tabor","Tišina","Tolmin","Trbovlje","Trebnje","Trnovska vas","Trzin","Tržič","Turnišče","Velenje","Velika Polana","Velike Lašče","Veržej","Videm","Vipava","Vitanje","Vodice","Vojnik","Vransko","Vrhnika","Vuzenica","Zagorje ob Savi","Zavrč","Zreče","Žalec","Železniki","Žetale","Žiri","Žirovnica","Žužemberk"]'),j=[{label:"Naravne nesreče",value:"Naravne nesreče",icon:"fas fa-tree"},{label:"Druge nesreče",value:"Druge nesreče",icon:"fas fa-circle"},{label:"Nesreče v prometu",value:"Prometna nesreča",icon:"fas fa-car"},{label:"Požari in eksplozije",value:"Požar, eksplozija",icon:"fas fa-fire"},{label:"Onesnaževanja, nesreče z nevarnimi snovmi",value:"Onesnaženje, nesreče z nevarnimi snovmi",icon:"fas fa-square"},{label:"Motnje, omejitve in prekinitve oskrbe",value:"Motnje, omejitve in prekinitve oskrbe",icon:"fas fa-house-damage"},{label:"Najdbe NUS",value:"Najdbe NUS",icon:"fas fa-bomb"},{label:"Tehnična in druga pomoč",value:"Tehnična in druga pomoč",icon:"fas fa-wrench"},{label:"Jedrska ali radiološka nevarnost",value:"Jedrska ali radiološka nevarnost",icon:"fas fa-radiation"}],f={name:"FilterDialog",emits:["ok","hide"],components:{},data(){return{localOrderFilter:"",type:null,intervencijaType:j,localObcinaFilter:null,localTypeFilter:null}},setup(){const e=(0,b.iH)(h);return{model:(0,b.iH)(null),filterOptions:e,createValue(e,a){e.length>0&&(h.includes(e)||h.push(e),a(e,"toggle"))},filterFn(a,l){l((()=>{if(""===a)e.value=h;else{const l=a.toLowerCase();e.value=h.filter((e=>e.toLowerCase().indexOf(l)>-1))}}))}}},computed:{...(0,d.Se)("filters",["orderFilter","obcinaFilter","typeFilter"])},created(){this.localOrderFilter=this.orderFilter,this.localObcinaFilter=this.obcinaFilter,this.localTypeFilter=this.typeFilter},methods:{...(0,d.OI)("filters",["setOrderFilter","setObcinaFilter","setTypeFilter"]),show(){this.$refs.dialog.show()},hide(){this.$refs.dialog.hide()},onDialogHide(){this.$emit("hide")},onOKClick(){this.setOrderFilter(this.localOrderFilter),this.setObcinaFilter(this.localObcinaFilter),this.setTypeFilter(this.localTypeFilter),this.$emit("ok"),this.hide()},onCancelClick(){this.hide()}}};var g=l(4260),S=l(5926),w=l(151),O=l(5589),F=l(7991),V=l(5439),T=l(3414),W=l(2035),D=l(4554),C=l(2350),q=l(8240),Z=l(7518),_=l.n(Z);const P=(0,g.Z)(f,[["render",k]]),K=P;_()(f,"components",{QDialog:S.Z,QCard:w.Z,QCardSection:O.Z,QRadio:F.Z,QSelect:V.Z,QItem:T.Z,QItemSection:W.Z,QIcon:D.Z,QItemLabel:C.Z,QBtn:q.Z});const L=(0,o._)("b",null,"Iskanje",-1),Q={class:"q-mb-md"};function y(e,a,l,i,n,r){const t=(0,o.up)("q-card-section"),c=(0,o.up)("q-icon"),d=(0,o.up)("q-input"),s=(0,o.up)("q-radio"),u=(0,o.up)("q-btn"),m=(0,o.up)("q-card"),p=(0,o.up)("q-dialog");return(0,o.wg)(),(0,o.j4)(p,{ref:"dialog",onHide:r.onDialogHide,position:"bottom"},{default:(0,o.w5)((()=>[(0,o.Wm)(m,{class:"q-dialog-plugin"},{default:(0,o.w5)((()=>[(0,o.Wm)(t,null,{default:(0,o.w5)((()=>[L])),_:1}),(0,o.Wm)(t,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{class:"q-mb-sm",modelValue:n.localWordFilter,"onUpdate:modelValue":a[0]||(a[0]=e=>n.localWordFilter=e),outlined:"",clearable:""},{prepend:(0,o.w5)((()=>[(0,o.Wm)(c,{name:"search"})])),_:1},8,["modelValue"]),(0,o._)("div",Q,[(0,o.Wm)(s,{modelValue:n.localSearchOn,"onUpdate:modelValue":a[1]||(a[1]=e=>n.localSearchOn=e),val:"all",label:"Povsod"},null,8,["modelValue"]),(0,o.Wm)(s,{modelValue:n.localSearchOn,"onUpdate:modelValue":a[2]||(a[2]=e=>n.localSearchOn=e),val:"description",label:"Opis dogodka"},null,8,["modelValue"]),(0,o.Wm)(s,{modelValue:n.localSearchOn,"onUpdate:modelValue":a[3]||(a[3]=e=>n.localSearchOn=e),val:"obcina",label:"Občina"},null,8,["modelValue"])]),(0,o.Wm)(u,{onClick:r.onOKClick,class:"full-width",label:"Potrdi",color:"primary"},null,8,["onClick"])])),_:1})])),_:1})])),_:1},8,["onHide"])}const M={name:"SearchDialog",emits:["ok","hide"],data(){return{localWordFilter:"",localSearchOn:""}},computed:{...(0,d.Se)("filters",["wordFilter"]),...(0,d.Se)("filters",["searchOn"])},created(){this.localWordFilter=this.wordFilter,this.localSearchOn=this.searchOn},methods:{...(0,d.OI)("filters",["setWordFilter"]),...(0,d.OI)("filters",["setSearchOn"]),show(){this.$refs.dialog.show()},hide(){this.$refs.dialog.hide()},onDialogHide(){this.$emit("hide")},onOKClick(){this.setWordFilter(this.localWordFilter),this.setSearchOn(this.localSearchOn),this.$emit("ok"),this.hide()},onCancelClick(){this.hide()}}};var H=l(4842);const z=(0,g.Z)(M,[["render",y]]),N=z;_()(M,"components",{QDialog:S.Z,QCard:w.Z,QCardSection:O.Z,QInput:H.Z,QIcon:D.Z,QRadio:F.Z,QBtn:q.Z});const R={name:"SpinnerHeaderToolbar",data(){return{ago:null,oldTime:"",interval:null}},props:{selectedTab:{type:String,required:!0}},unmounted(){clearInterval(this.interval)},created(){this.interval=setInterval((()=>{null!=this.fetchedDate&&(this.ago=u()(this.fetchedDate).locale("Sl").fromNow())}),1e3)},setup(){const e=(0,c.Z)();function a(){e.dialog({component:K}).onOk((()=>{})).onCancel((()=>{})).onDismiss((()=>{}))}function l(){e.dialog({component:N}).onOk((()=>{})).onCancel((()=>{})).onDismiss((()=>{}))}return{openFilterDialog:a,openSearchDialog:l}},computed:{...(0,d.Se)("intervencije",["fetchedDate"]),...(0,d.Se)("settings",["getDarkMode"])},methods:{...(0,d.nv)("intervencije",["fetchData"]),...(0,d.nv)("settings",["toggleDarkMode"]),...(0,d.nv)("location",["fetchLocation"])}};var B=l(3812),I=l(9570),U=l(3747);const G=(0,g.Z)(R,[["render",t]]),J=G;_()(R,"components",{QHeader:B.Z,QToolbar:I.Z,QToolbarTitle:U.Z,QBtn:q.Z});const $={name:"MainLayout",data(){return{selectedTab:""}},components:{HeaderToolbar:J}};var x=l(9214),A=l(1762),Y=l(7547),E=l(208),X=l(2652);const ee=(0,g.Z)($,[["render",i]]),ae=ee;_()($,"components",{QLayout:x.Z,QFooter:A.Z,QTabs:Y.Z,QRouteTab:E.Z,QPageContainer:X.Z,QToolbar:I.Z})}}]);